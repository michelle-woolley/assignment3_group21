{"version":3,"sources":["Components/Search.js","App.js","index.js"],"names":["Search","props","getPageCount","total","denominator","valueToBeAdded","Math","floor","fetchSearchResults","updatedPageNo","query","cancel","res","state","db","filter","e","title","toLowerCase","includes","tags","t","length","totalPagesCount","resultNotFoundMsg","setState","results","message","totalResults","totalPages","currentPageNo","loading","handleOnInputChange","event","target","value","handlePageClick","type","preventDefault","updatePageNo","renderSearchResults","className","map","result","i","class","src","img","alt","desc","window","this","htmlFor","name","id","placeholder","onChange","React","Component","App","AppBar","position","Toolbar","variant","IconButton","edge","Typography","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ac3f32d.chunk.js","sourcesContent":["import React from 'react';\nimport './Search.css';\nimport SearchIcon from '@material-ui/icons/Search';\n\nclass Search extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet db = window.db;\n\t\tthis.state = {\n\t\t\tdb: db,\n\t\t\tquery: '',\n\t\t\tresults: db,\n\t\t\tloading: false,\n\t\t\tmessage: '',\n\t\t\ttotalResults: db.length,\n\t\t\ttotalPages: 1,\n\t\t\tcurrentPageNo: 1,\n\t\t};\n\n\t\tthis.cancel = '';\n\t}\n\n\n\t/**\n\t * Get the Total Pages count.\n\t *\n\t * @param total\n\t * @param denominator Count of results per page\n\t * @return {number}\n\t */\n\tgetPageCount = (total, denominator) => {\n\t\tconst divisible = 0 === total % denominator;\n\t\tconst valueToBeAdded = divisible ? 0 : 1;\n\t\treturn Math.floor(total / denominator) + valueToBeAdded;\n\t};\n\n\t/**\n\t * Fetch the search results and update the state with the result.\n\t * Also cancels the previous query before making the new one.\n\t *\n\t * @param {int} updatedPageNo Updated Page No.\n\t * @param {String} query Search Query.\n\t *\n\t */\n\tfetchSearchResults = (updatedPageNo = '', query) => {\n\n\t\tif (this.cancel) {\n\t\t\tthis.cancel.cancel();\n\t\t}\n\n\t\tconst res = this.state.db.filter(e => e.title.toLowerCase().includes(query.toLowerCase()) || e.tags.filter(t => t.toLowerCase().includes(query.toLowerCase())).length);\n\n\t\tconst total = res.length;\n\t\tconst totalPagesCount = this.getPageCount(total, 20);\n\t\tconst resultNotFoundMsg = !res.length ? 'There are no more search results. Please try a new search' : '';\n\t\tthis.setState({\n\t\t\tresults: res,\n\t\t\tmessage: resultNotFoundMsg,\n\t\t\ttotalResults: total,\n\t\t\ttotalPages: totalPagesCount,\n\t\t\tcurrentPageNo: updatedPageNo,\n\t\t\tloading: false\n\t\t});\n\t};\n\n\thandleOnInputChange = (event) => {\n\t\tconst query = event.target.value;\n\t\tthis.setState({ query, loading: true, message: '' }, () => {\n\t\t\tthis.fetchSearchResults(1, query);\n\t\t});\n\t};\n\n\t/**\n\t * Fetch results according to the prev or next page requests.\n\t *\n\t * @param {String} type 'prev' or 'next'\n\t */\n\thandlePageClick = (type, event) => {\n\t\tevent.preventDefault();\n\t\tconst updatePageNo = 'prev' === type\n\t\t\t? this.state.currentPageNo - 1\n\t\t\t: this.state.currentPageNo + 1;\n\n\t\tif (!this.state.loading) {\n\t\t\tthis.setState({ loading: true, message: '' }, () => {\n\t\t\t\tthis.fetchSearchResults(updatePageNo, this.state.query);\n\t\t\t});\n\t\t}\n\t};\n\n\trenderSearchResults = () => {\n\t\tconst { results } = this.state;\n\t\tif (results.length) {\n\t\t\treturn (\n\t\t\t\t<div className=\"results\">\n\t\t\t\t\t{results.map((result, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div class=\"result-item\">\n\t\t\t\t\t\t\t\t<img className=\"image\"\n\t\t\t\t\t\t\t\t\tsrc={`${result.img}`}\n\t\t\t\t\t\t\t\t\talt=\"Ocimum basilicum\" />\n\t\t\t\t\t\t\t\t<div class=\"result-info\">\n\t\t\t\t\t\t\t\t\t<h4 class=\"image-username\">{`${result.title}`}</h4>\n\t\t\t\t\t\t\t\t\t<div class=\"result-tag-div\">\n\t\t\t\t\t\t\t\t\t\t{result.tags.map(t => <span class=\"result-tag\">{`${t}`}</span>)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span class=\"result-desc\">{`${result.desc}`}</span>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { query, message } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t{/* Search Input*/}\n\t\t\t\t<div className=\"search-label\" htmlFor=\"search-input\">\n\t\t\t\t\t<div className=\"search-icon\">\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"query\"\n\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\tid=\"search-input\"\n\t\t\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\t\t\tonChange={this.handleOnInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{/*\tError Message*/}\n\t\t\t\t{message && <p className=\"message\">{message}</p>}\n\n\t\t\t\t{/*\tResult*/}\n\t\t\t\t{this.renderSearchResults()}\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Search","import React from 'react'\nimport Search from './Components/Search';\nimport './App.css';\nimport Typography from '@material-ui/core/Typography'\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nclass App extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<AppBar position=\"static\" id=\"app-bar\">\n\t\t\t\t\t<Toolbar variant=\"dense\">\n\t\t\t\t\t\t<IconButton edge=\"start\">\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\n\t\t\t\t\t\t\tToxins\n\t\t\t\t\t</Typography>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div id=\"app-container\">\n\t\t\t\t\t<Search />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}